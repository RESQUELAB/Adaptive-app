<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Catalog - AdaptiveSports</title>
    <!-- Jquery -->
    <link href="./jquery/jquery-ui.css" rel="stylesheet" />
    <script src="./jquery/external/jquery/jquery.js"></script>
    <script src="./jquery/jquery-ui.js"></script>
    <!-- Spcket IO -->
    <script src="./js/socket.io.min.js"></script>
    <!-- Styles -->
    <link href="./style/structure.css" rel="stylesheet" />
    <link href="./style/lightTheme.css" rel="stylesheet" />
    <link href="./style/darkTheme.css" rel="stylesheet" />
    <link href="./style/catalog.css" rel="stylesheet" />
    <!-- Core JS -->
    <script src="./js/check.js"></script>
    <script src="./js/translator.js"></script>
    <script src="./js/mutations.js"></script>
    <!-- <script src="./js/communication.js"></script> -->
    <!-- Translations -->
    <script src="./js/translations.js"></script>
    <!-- Own data and js -->
    <script src="./data/articlesData.js"></script>
    <script src="./js/favController.js"></script>
    <script src="./js/catalogController.js"></script>
    <script src="./js/cartModel.js"></script>
    <!-- MouseTracker -->
    <script src="./js/mouseTracker.js"></script>
  </head>

  <body lang="es">
    <div class="assistant-sidebar" id="assistantSidebar">
      <button
        class="minimize-btn"
        id="assistantMinimizeBtn"
        title="Minimizar/Expandir"
        aria-expanded="true"
      >
        ‚Äì
      </button>
      <div class="assistant-title">üõ†Ô∏è Centro de Adaptaci√≥n</div>
      <div class="assistant-content" id="assistantContent">
        <div class="assistant-group">
          <div class="assistant-group-title">Usuario</div>
          <input type="text" id="username" placeholder="Username" value="anonymous" />
          <input type="text" id="host" placeholder="Host" value="localhost" />
        </div>
        <div class="assistant-group">
          <div class="assistant-group-title">Idioma</div>
          <button id="changeEsp">Espa√±ol</button>
          <button id="changeEng">English</button>
        </div>
        <div class="assistant-group">
          <div class="assistant-group-title">Informaci√≥n</div>
          <button id="infoShow">Mostrar</button>
          <button id="infoPartial">Parcial</button>
          <button id="infoHide">Ocultar</button>
        </div>
        <div class="assistant-group">
          <div class="assistant-group-title">Tema</div>
          <button id="changeLight">Claro</button>
          <button id="changeDark">Oscuro</button>
          <button id="changeContrast">Alto Contraste</button>
        </div>
        <div class="assistant-group">
          <div class="assistant-group-title">Cat√°logo</div>
          <button id="catalog_grid1cols">Lista</button>
          <button id="catalog_grid2cols">2 Columnas</button>
          <button id="catalog_grid3cols">3 Columnas</button>
          <button id="catalog_grid4cols">4 Columnas</button>
          <button id="catalog_grid5cols">5 Columnas</button>
        </div>
        <div class="assistant-group">
          <div class="assistant-group-title">Tama√±o de Fuente</div>
          <button id="font_size_small">Peque√±a</button>
          <button id="font_size_default">Normal</button>
          <button id="font_size_big">Grande</button>
        </div>
        <div class="assistant-group">
          <div class="assistant-group-title">Tipo de Men√∫</div>
          <button id="menu_type_line">L√≠nea</button>
          <button id="menu_type_dropdown">Desplegable</button>
        </div>
        <div class="assistant-group">
          <div class="assistant-group-title">Categor√≠a</div>
          <button id="category_sports">Deportes</button>
          <button id="category_courses">Cursos</button>
          <button id="category_trips">Viajes</button>
        </div>
      </div>
    </div>

    <div class="full-container">
      <!-- Header -->
      <header class="header">
        <div class="logo">
			<a id="logo" href="catalog.html">
				<img id="headerLogo" src="./img/logo.png"></img>
			</a>
		</div>
        <div class="search-bar">
          <input id="search_input" name="search_q" type="text" placeholder="Search..." />
        </div>
        <div class="user-buttons">
          <div class="user-button">
            <span class="icon">
              <a href="./profile.html">
                üë§
              </a>
            </span>
            <span class="subtext">
              <a href="./profile.html" style="color: unset;">
                Perfil
              </a>
            </span>
          </div>
          <div class="user-button">
            <span class="icon"><a href="./favourites.html">‚ù§Ô∏è <span id="favorites_counter" class="counter">0</span></a></span>
            <span class="subtext"><a href="./favourites.html" style="color: unset;">Favoritos</a></span>
          </div>
          <div class="user-button">
			<span class="icon"><a href="./basket.html">üõí <span id="basket_counter" class="counter">0</span></a></span>
            <span class="subtext"><a href="./basket.html"  style="color: unset;"> Carrito</a> </span>
          </div>
        </div>
      </header>

      <script>
        document
          .getElementById("search_input")
          .addEventListener("click", function () {
            if (
              !window.location.pathname.includes("catalog") &&
              !window.location.pathname.includes("favourites")
            ) {
              window.location.href = "catalog.html";
            }
          });
      </script>

      <!-- Main content -->
      <!-- Filters panel -->
      <div class="filters">
        <div class="box">
          <span class="title" textId="categories:1c"></span>
          <div class="line">
            <a href="./catalog.html" textId="tshirts:1c"></a>
          </div>
          <div class="line">
            <a href="./catalog.html" textId="pants:1c"></a>
          </div>
          <div class="line">
            <a href="./catalog.html" textId="footwear:1c"></a>
          </div>
        </div>
        <div class="box">
          <span class="title" textId="filters:1c"></span>
          <div class="box" id="price_filter">
            <span class="title" textId="price:1c"></span>
            <span id="price_min"></span><span id="price_max"></span>
            <div id="slider-range"></div>
          </div>
          <div class="box">
            <span class="title" textId="sizes:1c"></span>
            <label
              ><input type="checkbox" name="filter_size" value="s" />S</label
            >
            <label
              ><input type="checkbox" name="filter_size" value="M" />M</label
            >
            <label
              ><input type="checkbox" name="filter_size" value="L" />L</label
            >
            <label
              ><input type="checkbox" name="filter_size" value="XL" />XL</label
            >
          </div>
          <div class="box">
            <span class="title" textId="logistics:1c"></span>
            <label>
              <input type="checkbox" name="stock" />
              <span textId="with_stock:1c"></span> </label
            ><br />
            <label>
              <input type="checkbox" name="rapid_shipment" />
              <span textId="rapid_shipment:1c"></span>
            </label>
          </div>
        </div>
      </div>
      <!-- Catalog panel -->
      <div class="grid-border catalog catalog-4cols"></div>
    </div>
    <!-- HTML load end scripts -->
    <script src="./js/controls.js"></script>
    <script src="./js/pageNavigation.js"></script>
    <script src="./js/catalog.js"></script>
    <script src="./js/head.js"></script>
    <script>
      // Adaptation actuators for mutations.js
      document.getElementById('changeLight').onclick = function() { mc.mutate('theme', 'light'); };
      document.getElementById('changeDark').onclick = function() { mc.mutate('theme', 'dark'); };
      document.getElementById('changeContrast').onclick = function() { mc.mutate('theme', 'contrast'); };
      document.getElementById('changeEsp').onclick = function() { mc.mutate('language', 'es'); };
      document.getElementById('changeEng').onclick = function() { mc.mutate('language', 'en'); };
      document.getElementById('infoShow').onclick = function() { mc.mutate('information', 'show'); };
      document.getElementById('infoPartial').onclick = function() { mc.mutate('information', 'partial'); };
      document.getElementById('infoHide').onclick = function() { mc.mutate('information', 'hide'); };
      document.getElementById('font_size_small').onclick = function() { mc.mutate('font_size', 'small'); };
      document.getElementById('font_size_default').onclick = function() { mc.mutate('font_size', 'default'); };
      document.getElementById('font_size_big').onclick = function() { mc.mutate('font_size', 'big'); };
      document.getElementById('catalog_grid1cols').onclick = function() { mc.mutate('display', 'list'); };
      document.getElementById('catalog_grid2cols').onclick = function() { mc.mutate('display', 'grid2'); };
      document.getElementById('catalog_grid3cols').onclick = function() { mc.mutate('display', 'grid3'); };
      document.getElementById('catalog_grid4cols').onclick = function() { mc.mutate('display', 'grid4'); };
      document.getElementById('catalog_grid5cols').onclick = function() { mc.mutate('display', 'grid5'); };
      document.getElementById('menu_type_line').onclick = function() { mc.mutate('menu_type', 'line'); };
      document.getElementById('menu_type_dropdown').onclick = function() { mc.mutate('menu_type', 'dropdown'); };
      document.getElementById('category_sports').onclick = function() { mc.mutate('category', 'sports'); };
      document.getElementById('category_courses').onclick = function() { mc.mutate('category', 'courses'); };
      document.getElementById('category_trips').onclick = function() { mc.mutate('category', 'trips'); };
    </script>
    <script>
      // Minimizar/expandir sidebar con ocultar/mostrar contenido
      const sidebar = document.getElementById('assistantSidebar');
      const minBtn = document.getElementById('assistantMinimizeBtn');
      const content = document.getElementById('assistantContent');
      minBtn.onclick = function(e) {
        e.stopPropagation();
        sidebar.classList.toggle('minimized');
        const minimized = sidebar.classList.contains('minimized');
        minBtn.textContent = minimized ? '‚ò∞' : '‚Äì';
        minBtn.setAttribute('aria-expanded', !minimized);
        content.style.display = minimized ? 'none' : 'block';
      };
      // Permitir expandir haciendo click en el sidebar minimizado
      sidebar.onclick = function(e) {
        if (sidebar.classList.contains('minimized') && e.target === sidebar) {
          sidebar.classList.remove('minimized');
          minBtn.textContent = '‚Äì';
          minBtn.setAttribute('aria-expanded', true);
          content.style.display = 'block';
        }
      };
    </script>
  </body>
</html>
